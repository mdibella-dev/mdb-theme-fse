function recalcMasonry(e){document.querySelectorAll(".masonry").forEach(r=>{let n=r.childElementCount;if(n){var o=getComputedStyle(r).getPropertyValue("--column-count"),a=parseInt(getComputedStyle(r).getPropertyValue("--column-gap")),c=Math.ceil(n/o),l=[];let e=0,t=0;for(const d of r.children)e+=d.clientHeight+a,--n,t>=c-1||0==n?(l.push(e),e=0,t=0):t++;l.sort((e,t)=>t-e),r.style.height=l[0]+"px"}})}window.addEventListener("resize",e=>{recalcMasonry()}),document.addEventListener("readystatechange",e=>{"complete"===e.target.readyState&&recalcMasonry()});
